/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package caver.java

import io.kotest.core.config.AbstractProjectConfig
import io.kotest.core.spec.style.BehaviorSpec
import io.kotest.matchers.shouldBe
import org.openapitools.codegen.CodegenConfig
import java.util.*

class KlaytnJavaClientCodeGenTest : BehaviorSpec({
    Given("Klaytn code generator") {
        When("Load by ServiceLoader") {
            Then("should be existed") {
                val loader = ServiceLoader.load(
                    CodegenConfig::class.java,
                    CodegenConfig::class.java.classLoader
                )

                for (config in loader) {
                    println(config.name)
                }
                loader.find { i -> i.name == KlaytnJavaClientCodegen.caverName}?.name.shouldBe(KlaytnJavaClientCodegen.caverName)
            }
        }
        When("Model file name set to KlaytnModel") {
            Then("return 'klaytn-model as camel case") {
                val codeGen = KlaytnJavaClientCodegen()
                codeGen.toModelFilename("KlaytnModel").shouldBe("KlaytnModel")
            }
        }
    }
})

object KotestProjectConfig : AbstractProjectConfig() {
    override var displayFullTestPath: Boolean? = true
}
